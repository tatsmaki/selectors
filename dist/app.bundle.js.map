{"version":3,"sources":["webpack://rs-css/./src/levels.js","webpack://rs-css/./src/quests.js","webpack://rs-css/./src/selectors.js","webpack://rs-css/./src/loadLevel.js","webpack://rs-css/./src/index.js"],"names":["element","animation","id","this","main","level","fragment","document","createDocumentFragment","forEach","item","createElement","classList","add","setAttribute","appendChild","currentLevel","localStorage","getItem","levels","selector","selectors","Game","Elements","loadLevel","saveToLocal","setItem","parseHTML","string","replace","userInterfaceFragment","quest","textContent","quests","screen","codeCSS","placeholder","codeHTML","innerText","innerHTML","menuStatus","toggleMenu","querySelector","style","top","menu","addEventListener","menuScreen","levelsList","Object","keys","body","window","key","which","value","querySelectorAll","animate","marginTop","duration","easing","findLevel","nextLevel","indexOf","setTimeout","color","clear","selectorCheck"],"mappings":"mBAiGA,QAjGe,CACX,EAAK,CACD,CACIA,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,IAGnB,EAAK,CACD,CACID,QAAS,OACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,OACTC,WAAW,IAGnB,MAAO,CACH,CACID,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,EACXC,GAAI,UAER,CACIF,QAAS,QACTC,WAAW,IAGnB,IAAK,CACD,CACID,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,OACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,IAGnB,OAAQ,CACJ,CACID,QAAS,OACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,YACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,IAGnB,QAAS,CACL,CACID,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,OACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,EACXC,GAAI,UAER,CACIF,QAAS,QACTC,WAAW,GAEf,CACID,QAAS,QACTC,WAAW,KCnFvB,EATe,CACX,EAAK,eACL,EAAK,cACL,MAAO,sBACP,IAAK,oBACL,OAAQ,6BACR,QAAS,4BCGb,EATkB,CACd,EAAK,QACL,EAAK,OACL,MAAO,UACP,IAAK,IACL,OAAQ,kBACR,QAAS,c,sKCeb,Q,WApBI,c,4FAAe,SACXE,KAAKC,KAAO,K,uDAGLC,GACP,IAAMC,EAAWC,SAASC,yBAC1BH,EAAMI,SAAS,SAAAC,GACX,IAAMV,EAAUO,SAASI,cAAcD,EAAKV,SACvCU,EAAKT,WACND,EAAQY,UAAUC,IAAI,QAEtBH,EAAKR,IACLF,EAAQc,aAAa,KAAMJ,EAAKR,IAEpCI,EAASS,YAAYf,MAEzBG,KAAKC,KAAOE,O,sBCXpB,IAAIU,EAEAA,EADAC,aAAaC,QAAQ,kCACND,aAAaC,QAAQ,kCAErB,IAEnB,IAAMb,EAAQc,EAAOH,GACjBI,EAAWC,EAAUL,GACnBM,EAAO,IAAIC,EACjBD,EAAKE,UAAUnB,GAEf,IAAMoB,EAAc,WAChBR,aAAaS,QAAQ,iCAAkCV,IAGrDW,EAAY,SAAAC,GACd,OAAOA,EAAOC,QAAQ,YAAa,SAASA,QAAQ,iBAAkB,KAGpEC,EAAwBvB,SAASC,yBAEjCuB,EAAQxB,SAASI,cAAc,KACrCoB,EAAMnB,UAAUC,IAAI,SACpBkB,EAAMC,YAAcC,EAAOjB,GAC3Bc,EAAsBf,YAAYgB,GAElC,IAAMG,EAAS3B,SAASI,cAAc,OACtCuB,EAAOtB,UAAUC,IAAI,UACrBqB,EAAOnB,YAAYO,EAAKlB,MACxB0B,EAAsBf,YAAYmB,GAElC,IAAMC,EAAU5B,SAASI,cAAc,SACvCwB,EAAQvB,UAAUC,IAAI,WACtBsB,EAAQC,YAAc,yBACtBN,EAAsBf,YAAYoB,GAElC,IAAME,EAAW9B,SAASI,cAAc,OACxC0B,EAASzB,UAAUC,IAAI,YACvBwB,EAASC,UAAYX,EAAUO,EAAOK,WACtCT,EAAsBf,YAAYsB,GAElC,IAAIG,GAAa,EACXC,EAAa,WACIlC,SAASmC,cAAc,eAE3BC,MAAMC,IADjBJ,EACuB,SAEA,EAE3BA,GAAcA,GAEZK,EAAOtC,SAASI,cAAc,UACpCkC,EAAKC,iBAAiB,QAASL,GAC/BI,EAAKjC,UAAUC,IAAI,QACnBgC,EAAKN,UAAY,qCACjBT,EAAsBf,YAAY8B,GAElC,IAAME,EAAaxC,SAASI,cAAc,OAC1CoC,EAAWnC,UAAUC,IAAI,cACzB,IAAMmC,EAAazC,SAASI,cAAc,MAC1CsC,OAAOC,KAAK/B,GAAQV,SAAS,SAAAC,GACzB,IAAMV,EAAUO,SAASI,cAAc,MACvCX,EAAQgC,YAActB,EACtBV,EAAQ8C,iBAAiB,SAAS,WAC9B9B,EAAeN,EACfY,EAAKE,UAAUL,EAAOT,IACtBwB,EAAOK,UAAY,GACnBL,EAAOnB,YAAYO,EAAKlB,MACxBiC,EAASC,UAAYX,EAAUO,EAAOK,WACtCnB,EAAWC,EAAUX,GACrBqB,EAAMC,YAAcC,EAAOjB,GAC3BS,IACAgB,OAEJO,EAAWjC,YAAYf,MAE3B+C,EAAWhC,YAAYiC,GACvBlB,EAAsBf,YAAYgC,GAElCxC,SAAS4C,KAAKpC,YAAYe,GA4D1BsB,OAAON,iBAAiB,WANP,SAAAO,GACK,KAAdA,EAAIC,OArDU,WAClB,GAAInB,EAAQoB,MAAM1B,QAAQ,KAAM,MAAQT,EAAU,CAC9Ce,EAAQoB,MAAQ,GACJrB,EAAOsB,iBAAiBpC,GAChCX,SAAS,SAAAC,GACTA,EAAK+C,QAAQ,CACT,CAAEC,UAAW,WACf,CACEC,SAAU,IACVC,OAAQ,YAGhB,IAAMC,EAAYZ,OAAOC,KAAK/B,GACxB2C,EAAYD,EAAUA,EAAUE,QAAQ/C,GAAgB,GAC9DgD,YAAY,WACJF,GACAxC,EAAKE,UAAUL,EAAO2C,IACtB5B,EAAOK,UAAY,GACnBL,EAAOnB,YAAYO,EAAKlB,MACxBiC,EAASC,UAAYX,EAAUO,EAAOK,WACtCnB,EAAWC,EAAUyC,GACrB/B,EAAMC,YAAcC,EAAOjB,KAE3BkB,EAAOK,UAAY,GACnBR,EAAMC,YAAc,WACpBE,EAAOS,MAAMsB,MAAQ,QACrBhD,aAAaiD,WAElB,KACHlD,EAAe8C,EACfrC,SAEcS,EAAOsB,iBAAiBrB,EAAQoB,OACxC9C,SAAS,SAAAC,GACXA,EAAK+C,QAAQ,CACT,CAAEC,UAAW,GACb,CAAEA,UAAW,SACb,CAAEA,UAAW,GACb,CAAEA,UAAW,QACb,CAAEA,UAAW,GACb,CAAEA,UAAW,SACb,CAAEA,UAAW,GACb,CAAEA,UAAW,QACb,CAAEA,UAAW,IACf,CACEC,SAAU,IACVC,OAAQ,YAQhBO,O","file":"app.bundle.js","sourcesContent":["const levels = {\n    'A': [\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'water',\n            animation: true\n        }\n    ],\n    'B': [\n        {\n            element: 'fire',\n            animation: true\n        },\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'fire',\n            animation: true\n        }\n    ],\n    '#id': [\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true,\n            id: 'frozen'\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ],\n    '*': [\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'fire',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: true\n        }\n    ],\n    'A, B': [\n        {\n            element: 'fire',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'lightning',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ],\n    'A ~ B': [\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'fire',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true,\n            id: 'frozen'\n        },\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ]\n}\n\nexport default levels;","const quests = {\n    'A': \"Select water\",\n    'B': \"Select fire\",\n    '#id': \"Select frozen water\",\n    '*': \"Select everything\",\n    'A, B': \"Select water and lightning\",\n    'A ~ B': \"Select water beside fire\"\n}\n\nexport default quests;","const selectors = {\n    'A': 'water',\n    'B': 'fire',\n    '#id': '#frozen',\n    '*': '*',\n    'A, B': 'water,lightning',\n    'A ~ B': 'fire~water'\n}\n\nexport default selectors;","class Elements {\n    constructor () {\n        this.main = null;\n    }\n\n    loadLevel (level) {\n        const fragment = document.createDocumentFragment();\n        level.forEach( item => {\n            const element = document.createElement(item.element);\n            if (!item.animation) {\n                element.classList.add('stop');\n            }\n            if (item.id) {\n                element.setAttribute('id', item.id);\n            }\n            fragment.appendChild(element);\n        });\n        this.main = fragment;\n    }\n}\n\nexport default Elements;","import \"./index.css\";\nimport levels from \"./levels\";\nimport quests from \"./quests\";\nimport selectors from \"./selectors\";\nimport Elements from \"./loadLevel\";\n\nlet currentLevel;\nif (localStorage.getItem('tatsmaki-JS2020Q3-currentLevel')) {\n    currentLevel = localStorage.getItem('tatsmaki-JS2020Q3-currentLevel');\n} else {\n    currentLevel = 'A';\n}\nconst level = levels[currentLevel];\nlet selector = selectors[currentLevel];\nconst Game = new Elements;\nGame.loadLevel(level);\n\nconst saveToLocal = () => {\n    localStorage.setItem('tatsmaki-JS2020Q3-currentLevel', currentLevel);\n}\n\nconst parseHTML = string => {\n    return string.replace(/><\\/\\w+>/g, ' />\\n').replace(/ class=\"stop\"/g, '');\n}\n\nconst userInterfaceFragment = document.createDocumentFragment();\n\nconst quest = document.createElement(\"p\");\nquest.classList.add(\"quest\");\nquest.textContent = quests[currentLevel];\nuserInterfaceFragment.appendChild(quest);\n\nconst screen = document.createElement(\"div\");\nscreen.classList.add(\"screen\");\nscreen.appendChild(Game.main);\nuserInterfaceFragment.appendChild(screen);\n\nconst codeCSS = document.createElement(\"input\");\ncodeCSS.classList.add(\"codeCSS\");\ncodeCSS.placeholder = 'Type CSS selector here';\nuserInterfaceFragment.appendChild(codeCSS);\n\nconst codeHTML = document.createElement(\"div\");\ncodeHTML.classList.add(\"codeHTML\");\ncodeHTML.innerText = parseHTML(screen.innerHTML);\nuserInterfaceFragment.appendChild(codeHTML);\n\nlet menuStatus = false;\nconst toggleMenu = () => {\n    const menuScreen = document.querySelector('.menuScreen');\n    if (menuStatus) {\n        menuScreen.style.top = '-100vh';\n    } else {\n        menuScreen.style.top = 0;\n    }\n    menuStatus = !menuStatus;\n}\nconst menu = document.createElement(\"button\");\nmenu.addEventListener('click', toggleMenu);\nmenu.classList.add(\"menu\");\nmenu.innerHTML = \"<i class='material-icons'>menu</i>\";\nuserInterfaceFragment.appendChild(menu);\n\nconst menuScreen = document.createElement(\"div\");\nmenuScreen.classList.add(\"menuScreen\");\nconst levelsList = document.createElement('ol');\nObject.keys(levels).forEach( item => {\n    const element = document.createElement('li');\n    element.textContent = item;\n    element.addEventListener('click', () => {\n        currentLevel = item;\n        Game.loadLevel(levels[item]);\n        screen.innerHTML = '';\n        screen.appendChild(Game.main);\n        codeHTML.innerText = parseHTML(screen.innerHTML);\n        selector = selectors[item];\n        quest.textContent = quests[currentLevel];\n        saveToLocal();\n        toggleMenu();\n    });\n    levelsList.appendChild(element);\n});\nmenuScreen.appendChild(levelsList);\nuserInterfaceFragment.appendChild(menuScreen);\n\ndocument.body.appendChild(userInterfaceFragment);\n\nconst selectorCheck = () => {\n    if (codeCSS.value.replace(/ /g, '') === selector) {\n        codeCSS.value = '';\n        const win = screen.querySelectorAll(selector);\n        win.forEach( item => {\n            item.animate([\n                { marginTop: '-100vh' }\n            ],{\n                duration: 1000,\n                easing: 'ease'\n            });\n        });\n        const findLevel = Object.keys(levels);\n        const nextLevel = findLevel[findLevel.indexOf(currentLevel) + 1];\n        setTimeout( () => {\n            if (nextLevel) {\n                Game.loadLevel(levels[nextLevel]);\n                screen.innerHTML = '';\n                screen.appendChild(Game.main);\n                codeHTML.innerText = parseHTML(screen.innerHTML);\n                selector = selectors[nextLevel];\n                quest.textContent = quests[currentLevel];\n            } else {\n                screen.innerHTML = '';\n                quest.textContent = 'Game End';\n                screen.style.color = 'white';\n                localStorage.clear();\n            }\n        }, 1000);\n        currentLevel = nextLevel;\n        saveToLocal();\n    } else {\n        const wrong = screen.querySelectorAll(codeCSS.value);\n        wrong.forEach( item => {\n            item.animate([\n                { marginTop: 0 },\n                { marginTop: '-20px' },\n                { marginTop: 0 },\n                { marginTop: '20px' },\n                { marginTop: 0 },\n                { marginTop: '-20px' },\n                { marginTop: 0 },\n                { marginTop: '20px' },\n                { marginTop: 0 }\n            ],{\n                duration: 1000,\n                easing: 'ease'\n            });\n        });\n    }\n}\n\nconst keyPress = key => {\n    if (key.which === 13) {\n        selectorCheck();\n    }\n}\n\nwindow.addEventListener('keydown', keyPress);"],"sourceRoot":""}