{"version":3,"sources":["webpack://rs-css/./src/levels.js","webpack://rs-css/./src/selectors.js","webpack://rs-css/./src/quests.js","webpack://rs-css/./src/parseHTML.js","webpack://rs-css/./src/gameEngine.js","webpack://rs-css/./src/index.js"],"names":["element","animation","id","string","replace","this","main","userInterfaceFragment","document","createDocumentFragment","quest","createElement","screen","codeCSS","codeHTML","menu","menuScreen","selector","level","fragment","forEach","item","classList","add","setAttribute","appendChild","currentLevel","textContent","quests","placeholder","innerText","parseHTML","innerHTML","addEventListener","toggleMenu","levelsList","Object","keys","levels","loadNextLevel","saveToLocal","body","loadLevel","selectors","localStorage","setItem","menuStatus","style","top","value","querySelectorAll","animate","marginTop","duration","easing","findLevel","nextLevel","indexOf","setTimeout","color","clear","getItem","Game","Elements","createDocument","window","key","which","selectorCheck"],"mappings":"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","file":"app.bundle.js","sourcesContent":["const levels = {\n    'A': [\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'water',\n            animation: true\n        }\n    ],\n    'B': [\n        {\n            element: 'fire',\n            animation: true\n        },\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'fire',\n            animation: true\n        }\n    ],\n    '#id': [\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true,\n            id: 'frozen'\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ],\n    '*': [\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'fire',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: true\n        }\n    ],\n    'A, B': [\n        {\n            element: 'fire',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'lightning',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ],\n    'A ~ B': [\n        {\n            element: 'water',\n            animation: false\n        },\n        {\n            element: 'fire',\n            animation: false\n        },\n        {\n            element: 'water',\n            animation: true,\n            id: 'frozen'\n        },\n        {\n            element: 'water',\n            animation: true\n        },\n        {\n            element: 'frost',\n            animation: false\n        }\n    ]\n}\n\nexport default levels;","const selectors = {\n    'A': 'water',\n    'B': 'fire',\n    '#id': '#frozen',\n    '*': '*',\n    'A, B': 'water,lightning',\n    'A ~ B': 'fire~water'\n}\n\nexport default selectors;","const quests = {\n    'A': \"Select water\",\n    'B': \"Select fire\",\n    '#id': \"Select frozen water\",\n    '*': \"Select everything\",\n    'A, B': \"Select water and lightning\",\n    'A ~ B': \"Select water beside fire\"\n}\n\nexport default quests;","const parseHTML = string => {\n    return string.replace(/><\\/\\w+>/g, ' />\\n').replace(/ class=\"stop\"/g, '');\n}\n\nexport default parseHTML;","import levels from \"./levels\";\nimport quests from \"./quests\";\nimport selectors from \"./selectors\";\nimport parseHTML from \"./parseHTML\";\n\nclass Elements {\n    constructor () {\n        this.main = null;\n        this.userInterfaceFragment = document.createDocumentFragment();\n        this.quest = document.createElement(\"p\");\n        this.screen = document.createElement(\"div\");\n        this.codeCSS = document.createElement(\"input\");\n        this.codeHTML = document.createElement(\"div\");\n        this.menu = document.createElement(\"button\");\n        this.menuScreen = document.createElement(\"div\");\n        this.selector = \"\";\n    }\n\n    loadLevel (level) {\n        const fragment = document.createDocumentFragment();\n        level.forEach( item => {\n            const element = document.createElement(item.element);\n            if (!item.animation) {\n                element.classList.add('stop');\n            }\n            if (item.id) {\n                element.setAttribute('id', item.id);\n            }\n            fragment.appendChild(element);\n        });\n        this.main = fragment;\n    }\n\n    createDocument (currentLevel, selector) {\n        this.currentLevel = currentLevel;\n        this.selector = selector;\n\n        this.quest.classList.add(\"quest\");\n        this.screen.classList.add(\"screen\");\n        this.codeCSS.classList.add(\"codeCSS\");\n        this.codeHTML.classList.add(\"codeHTML\");\n        this.menu.classList.add(\"menu\");\n        this.menuScreen.classList.add(\"menuScreen\");\n\n        this.quest.textContent = quests[this.currentLevel];\n        this.screen.appendChild(this.main);\n        this.codeCSS.placeholder = 'Type CSS selector here';\n        this.codeHTML.innerText = parseHTML(this.screen.innerHTML);\n        this.menu.innerHTML = \"<i class='material-icons'>menu</i>\";\n        this.menu.addEventListener('click', () => {\n            this.toggleMenu();\n        });\n        const levelsList = document.createElement('ol');\n        Object.keys(levels).forEach( item => {\n            const element = document.createElement('li');\n            element.textContent = item;\n            element.addEventListener('click', () => {\n                this.currentLevel = item;\n                this.loadNextLevel(item);\n                this.saveToLocal();\n                this.toggleMenu();\n            });\n            levelsList.appendChild(element);\n        });\n        this.menuScreen.appendChild(levelsList);\n\n        this.userInterfaceFragment.appendChild(this.quest);\n        this.userInterfaceFragment.appendChild(this.screen);\n        this.userInterfaceFragment.appendChild(this.codeCSS);\n        this.userInterfaceFragment.appendChild(this.codeHTML);\n        this.userInterfaceFragment.appendChild(this.menu);\n        this.userInterfaceFragment.appendChild(this.menuScreen);\n        document.body.appendChild(this.userInterfaceFragment);\n    }\n\n    loadNextLevel (level) {\n        this.loadLevel(levels[level]);\n        this.screen.innerHTML = '';\n        this.screen.appendChild(this.main);\n        this.codeHTML.innerText = parseHTML(this.screen.innerHTML);\n        this.selector = selectors[level];\n        this.quest.textContent = quests[this.currentLevel];\n    }\n\n    saveToLocal () {\n        localStorage.setItem('tatsmaki-JS2020Q3-currentLevel', this.currentLevel);\n    }\n\n    toggleMenu () {\n        if (this.menuStatus) {\n            this.menuScreen.style.top = '-100vh';\n        } else {\n            this.menuScreen.style.top = 0;\n        }\n        this.menuStatus = !this.menuStatus;\n    }\n\n    selectorCheck () {\n        if (this.codeCSS.value.replace(/ /g, '') === this.selector) {\n            this.codeCSS.value = '';\n            const win = this.screen.querySelectorAll(this.selector);\n            win.forEach( item => {\n                item.animate([\n                    { marginTop: '-100vh' }\n                ],{\n                    duration: 1000,\n                    easing: 'ease'\n                });\n            });\n            const findLevel = Object.keys(levels);\n            const nextLevel = findLevel[findLevel.indexOf(this.currentLevel) + 1];\n            setTimeout( () => {\n                if (nextLevel) {\n                    this.loadNextLevel(nextLevel);\n                } else {\n                    this.screen.innerHTML = '';\n                    this.quest.textContent = 'Game End';\n                    this.screen.style.color = 'white';\n                    localStorage.clear();\n                }\n            }, 1000);\n            this.currentLevel = nextLevel;\n            this.saveToLocal();\n        } else {\n            const wrong = this.screen.querySelectorAll(this.codeCSS.value);\n            wrong.forEach( item => {\n                item.animate([\n                    { marginTop: 0 },\n                    { marginTop: '-20px' },\n                    { marginTop: 0 },\n                    { marginTop: '20px' },\n                    { marginTop: 0 },\n                    { marginTop: '-20px' },\n                    { marginTop: 0 },\n                    { marginTop: '20px' },\n                    { marginTop: 0 }\n                ],{\n                    duration: 1000,\n                    easing: 'ease'\n                });\n            });\n        }\n    }\n}\n\nexport default Elements;","import \"./index.css\";\nimport levels from \"./levels\";\nimport selectors from \"./selectors\";\nimport Elements from \"./gameEngine\";\n\nconst firstLevel = 'A';\nlet currentLevel = firstLevel;\nif (localStorage.getItem('tatsmaki-JS2020Q3-currentLevel')) {\n    currentLevel = localStorage.getItem('tatsmaki-JS2020Q3-currentLevel');\n}\n\nconst level = levels[currentLevel];\nconst selector = selectors[currentLevel];\nconst Game = new Elements;\nGame.loadLevel(level);\nGame.createDocument(currentLevel, selector);\n\nconst keyPress = key => {\n    if (key.which === 13) {\n        Game.selectorCheck();\n    }\n}\n\nwindow.addEventListener('keydown', keyPress);"],"sourceRoot":""}